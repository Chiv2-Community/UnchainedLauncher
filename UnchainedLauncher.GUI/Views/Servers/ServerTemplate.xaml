<UserControl x:Class="UnchainedLauncher.GUI.Views.Servers.ServerTemplate"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:UnchainedLauncher.GUI.Views.Servers"
             xmlns:mods="clr-namespace:UnchainedLauncher.GUI.Views.Mods"
             xmlns:conv="clr-namespace:UnchainedLauncher.GUI.Converters"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800">
    <StackPanel>
        <Border Style="{DynamicResource Card}">
            <StackPanel>
                <TextBlock Text="Server Details" Style="{DynamicResource Heading.H3}" />
                <local:ServerInfoForm DataContext="{Binding Form}" />
            </StackPanel>
        </Border>
        <Border Style="{StaticResource Card}">
            <StackPanel>
                <StackPanel.Resources>
                    <conv:ReleaseEnabledConverter x:Key="ReleaseEnabledConverter" />
                </StackPanel.Resources>
                <TextBlock Text="Server Mod Actors" Style="{DynamicResource Heading.H3}" />
                <ListBox ItemsSource="{Binding AvailableMods}" BorderThickness="0">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Margin="0,4">
                                <CheckBox
                                    VerticalAlignment="Center"
                                    Checked="CheckBox_OnChecked"
                                    Unchecked="CheckBox_OnUnchecked">
                                    <CheckBox.IsChecked>
                                        <MultiBinding Converter="{StaticResource ReleaseEnabledConverter}" Mode="OneWay">
                                            <Binding />
                                            <Binding RelativeSource="{RelativeSource AncestorType=UserControl}" Path="DataContext.EnabledModMarkerList" />
                                        </MultiBinding>
                                    </CheckBox.IsChecked>
                                </CheckBox>
                                <TextBlock Margin="8,0,0,0" VerticalAlignment="Center">
                                    <Run Text="{Binding Manifest.Name}" />
                                    <Run Text="  (" />
                                    <Run Text="{Binding Tag}" />
                                    <Run Text=")" />
                                </TextBlock>
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </StackPanel>
        </Border>
    </StackPanel>
</UserControl>